jquery-aim 2014-07-24 
!function(a){function b(b){if(b){if(a("#jquery-aim-debug").length)return;n=d()}else a("#jquery-aim-debug").remove(),n=null;m=b}function c(a){var b=.25,c=a.outerWidth(),d=a.outerHeight(),e=a.offset().left,f=a.offset().top,g=Math.sqrt(c*c+d*d),h=g/2*(1+b);a.data("aim-data",{rect:{x0:e,y0:f,x1:e+c,y1:f+d},radius:h,center:{x:e,y:f},hover:0})}function d(){var b=a("<div>").attr({id:"#jquery-aim-debug"}).css({width:2*p,height:2*p,"margin-left":-p,"margin-top":-p,"border-radius":"50%",top:0,left:0,border:"2px solid yellowgreen","background-color":"hsla(0,0%,0%, 0.05)",position:"absolute"}).appendTo(a("body"));return b}function e(a,b){var c=Math.max(0,Math.min(a.x1,b.x1)-Math.max(a.x0,b.x0)),d=Math.max(0,Math.min(a.y1,b.y1)-Math.max(a.y0,b.y0));return c*d/(s*s)}function f(b){var d=a(this);a.inArray(d,g)>-1||(g.push(d),c(d),d.data("aim-data").options=b)}var g=[],h={x:0,y:0,r:0,t:0},i={x:0,y:0},j=12,k=0,l=0,m=!1,n=null,o=50,p=50,q={x:0,y:0},r={x0:0,y0:0,x1:o,y1:o},s=1;a.fn.aim=function(a){return this.each(function(){f.call(this,a)}),this},a.aimDebug=b,a().ready(function(){document.addEventListener("mousemove",function(a){k=a.x,l=a.y},!1)});setInterval(function(){if(g.length){i.x&&i.y&&(h.x=.7*h.x+.3*(k-i.x),h.y=.7*h.y+.3*(l-i.y)),i.x=k,i.y=l;var b=Math.sqrt(h.x*h.x+h.y*h.y);.1>b&&(h.x=0,h.y=0),s=Math.sqrt(o*b+1),q.x=.7*q.x+.3*(i.x+h.x*j),q.x<0&&(q.x=0),q.x>a(window).width()-s&&(q.x=a(window).width()-s),r.x0=q.x-s,r.x1=q.x+s,q.y=.7*q.y+.3*(i.y+h.y*j),q.y<0&&(q.y=0),q.y>a(window).height()-s&&(q.y=a(window).height()-s),r.y0=q.y-s,r.y1=q.y+s,m&&n.css({"-webkit-transform":"translate("+q.x+"px,"+q.y+"px) scale("+s/p+")","-moz-transform":"translate("+q.x+"px,"+q.y+"px) scale("+s/p+")","-ms-transform":"translate("+q.x+"px,"+q.y+"px) scale("+s/p+")",transform:"translate("+q.x+"px,"+q.y+"px) scale("+s/p+")"});for(var c=0;c<g.length;c++){var d=g[c],f=d.data("aim-data"),t=e(f.rect,r);if(t&&0!==b){f.hover=f.hover+.2*t,f.hover>1&&f.hover<2?(f.options.className?d.addClass(f.options.className):f.options.aimEnter&&"function"==typeof f.options.aimEnter&&f.options.aimEnter.call(d,!0),f.hover>2&&(f.hover=2),m&&n.css("border-color","tomato")):f.hover>2&&(f.hover=2,m&&n.css("border-color","tomato"));break}m&&n.css("border-color","yellowgreen"),0!==f.hover&&(f.hover=f.hover-.05,f.hover<0&&(f.hover=0,f.options.className?d.removeClass(f.options.className):f.options.aimExit&&"function"==typeof f.options.aimExit&&f.options.aimExit.call(d,!0)))}}},16)}(jQuery);